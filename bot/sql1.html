<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
    <title>Bot 2</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    
</head>
<body>
    <p style="margin-bottom: 3em"></p>
    <div class="container h-100">
		<div class="row">
			<div class="col-md-8 offset-md-1">
                <h1>Введение в базы данных и SQL</h1>
                <br>
                <h4>Ознакомиться с теоретическим материалом и ответить на вопросы</h4>

                Базы данных — набор информации, которая организована тем или иным способом. Нужны они для хранения большого количества однотипной информации. В качестве простого примера базы данных может служить список контактов у вас в телефоне — где хранятся их имена, телефоны, или адреса и тд.
                <br>
                Привдите пример, где могут использоваться базы данных
                <textarea  class="form-control" rows="1"></textarea>
                <br>
                Самый простой вариант базы данных - это одна таблица, такая БД называется <b>плоской</b>. 
                Строки в таблице называются <b>записями в БД</b>, а столбцы - <b>полями</b>. 
                Например, в таблице ниже поля - "№ п/п", "Образование", "Возраст", "Город"
                <br>
                <br>
                <img src="img/image4.png" width="500px" height="auto">
                <br>
                <br>
                Для работы с БД существует язык SQL. SQL — декларативный язык программирования, применяемый для создания, модификации и управления данными
                <br>
                <br>
                На занятии рассмотрим три основных запроса SQL:
                <ol>
                    <li>CREATE (используется для создания таблиц)</li>
                    <li>SELECT (для получения данных из таблиц)</li>
                    <li>INSERT (для добавления записей в таблицы)</li>
                    <li>DELETE (удалить запись из таблицы)</li>
                </ol>

                <h4>CREATE</h4>
                CREATE TABLE в SQL - это команда, используемая для создания новой таблицы в базе данных. Она определяет структуру таблицы, включая имена столбцов, типы данных, ограничения и другие параметры.
                <br>
                Синтаксис запроса CREATE:
                <br>
                <code>
                <pre>
CREATE table имя_таблицы (

        имя_столбца1 тип1,

        имя_столбца2 тип2,

);</pre>
                </code>
                <h6>Основные типы данных, которые можно указать:</h6>
                Null - означает пустую запись и отсутствие значения
                <br>
                Integer - целые числовые значения
                <br>
                Real – небольшие числа
                <br>
                Text - текстовая информация, аналог string в Python и Javascript
                <br>
                <br>
                Пример запроса:
                <code>
                    <pre>
CREATE table users (
    id integer primary key,
    education text,
    age integer,
    town text
);
                    </pre>
                    </code>
                Вы могли заметить, что у поля id после указания типа (integer), также указано <code>primary key</code>
                <br>
                Это означает, что этот столбец - это первичный ключ. Первичный ключ (Primary Key) - это один или несколько атрибутов (столбцов) в таблице базы данных, которые однозначно идентифицируют каждую запись (строку) в этой таблице.
                <br>
                <br>
<h6>Основные характеристики первичного ключа:</h6>

<b>Уникальность:</b> Значение первичного ключа должно быть уникальным для каждой записи в таблице. Не допускается наличие двух или более записей с одинаковым значением первичного ключа.
<br>
<b>Не null:</b> Значение первичного ключа не может быть пустым (NULL). Каждая запись должна иметь определенное значение первичного ключа.
<br>
<b>Стабильность:</b> Значение первичного ключа не должно часто меняться. В идеале, оно должно оставаться постоянным на протяжении всего времени существования записи. (хотя это и не всегда возможно, например, если в качестве первичного ключа используется фамилия и человек сменил фамилию).
<br>
<b>Однозначность:</b> Первичный ключ должен однозначно определять запись.
<br>
<br>
                
                <h6>Задание 1. С помощью онлайн редактора SQL, создайте таблицу по следующим критериям:</h6>
                1. Название таблицы friends
                <br>
                2. Столбцы: id (целое число, первичный ключ), name (строка), phone_number (целое число)
                <br>
                <a href="https://sqliteonline.com/">ссылка на редактор</a>
                <br>
                Введите запрос в поле ниже:
                <textarea  class="form-control" rows="1"></textarea>
                <br>

                <h4>INSERT</h4>

                Запрос INSERT в SQL предназначен для добавления новых данных (записей, строк) в таблицу базы данных. Он говорит базе данных, какие значения нужно добавить и в какие столбцы таблицы.
                <br>
                Синтаксис запроса INSERT:
                <br>
                <code>INSERT into имя_таблицы values (значение1, значение2,...)</code>
                <br>
                <br>
                Пример запроса:
                <br>
                <code>INSERT into users values (1, "высшее", 34, "Томск")</code>
                <br>
                <h6>Задание 2. Доабавьте в созданную таблицу friends 5 любых записей</h6>
                <br>
                Введите запрос в поле ниже:
                <textarea  class="form-control" rows="1"></textarea>
                <br>
                <h4>SELECT</h4>

                Запрос SELECT в SQL - это основной способ извлечения данных из базы данных. Он позволяет выбрать определенные столбцы и строки из одной или нескольких таблиц на основе заданных условий. Это один из самых важных и часто используемых SQL-запросов.
                <br>
                Синтаксис запроса SELECT:
                <br>
                <code>SELECT столбец1, столбец2,... FROM имя_таблицы</code>
                <br>
                <br>
                <b>SELECT:</b> Ключевое слово, указывающее, что мы хотим выбрать данные.
                <br>
<b>column1, column2, ... (или *):</b> Список столбцов, которые мы хотим извлечь. Если вы хотите выбрать все столбцы таблицы, можно использовать символ *.
                <br>
                <b>FROM table_name:</b> Указывает таблицу, из которой мы выбираем данные.
                <br>
                <br>
                Пример запроса:
                
                <br>
                <code>SELECT * FROM users</code>
                <br>
                <br>
                <h6>Задание 3. Выведите все записи из созданной таблицы friends</h6>
            
                Введите запрос в поле ниже:
                <textarea  class="form-control" rows="1"></textarea>
                <br>
                <h6>Задание 4. Выведите только столбцы id, name из созданной таблицы friends</h6>
                Введите запрос в поле ниже:
                <textarea  class="form-control" rows="1"></textarea>
                <br>

                <h4>Задание 5</h4>

                Сделать новую таблицу с именем cars, содержащую поля id первичный ключ, mark – текст, обозначабщий марку машины, color - текст - цвет машины, number - число - гос номер машины
                <br>
                <br>
                Введите запрос в поле ниже:
                <textarea  class="form-control" rows="1"></textarea>
                
                <br>
                Добавьте в нее 5 любых записей

                <br>
                Введите запрос в поле ниже:
                <textarea  class="form-control" rows="1"></textarea>
                <br>
                <br>
                Выведите таблицу на экран

                <br>
                Введите запрос в поле ниже:
                <textarea  class="form-control" rows="1"></textarea>
                <br>
                <br>

                <h4>SQL + Python</h4>

                Для работы с SQL в Python существует библиотека <i>sqlite3</i>
                <br>
                1. Создайте файл bd.py (где угодно)
                <br><br>
                2. Имортируйте библиотеку <code>import sqlite3</code>
                <br><br>
                Чтобы работать с базами данных, сначала нужно создать или подключиться к существующей БД.
                Это можно сделать с помощью <code>connect = sqlite3.connect("database.sqlite")</code>. 
                databade.sqlite - название файла БД.
                <br><br>
                3. Создайте БД с помощью кода выше 
                <br><br>
                Теперь в переменной connect хранится ссылка на нашу БД, с которой мы можем работать. Но чтобы отправлять запросы базе данных, нужно создать
                специальный курсор <code>cursor = connect.cursor() </code>
                <br><br>
                4. Создайте курсор
                <br><br>
                Чтобы отправлять запросы,  у курсора существует метод <i>execute</i> <code>cursor.execute("sql выражение")</code>. Посденей строкой нужно обязательно 
                закрыть соединение с помощью <code>connect.close()</code>
                <br><br>
                Пример итогового кода:
                <br>
                <img src="img/image6.png"><br><br>

                5. Создать таблицу из Задания 5, используя Python (выполнить код)
                <br><br>
                Добавление записей аналогично созданию таблицы за исключением того, что нужно после execute испольнить <code>connect.commit()</code>
                , чтобы результаты сохранились в БД
                <br><br>
                6. Добавиь значения в созданную таблицу
                <br><br>
                Выполнение запроса SELECT также немного отличается, так как мы получаем какой-то ответ от БД (строки таблицы, данные).
                И чтобы это сделать нужно после выполения запроса к таблице выполнить <code>result = cursor.fetchall()</code>. 
                Теперь переменная result создерижит то, что нам отправила БД, попробуйте вывести ее на экран.
                <br><br>

            </div>
        </div>
    </div>
</body>
</html>
